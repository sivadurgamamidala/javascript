<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>js this keyword</title>
</head>
<body>
    <div>
        <h3>What is <b style="color: purple;">this</b> ?</h3>
        the javascript this keyword refers to the object it belong to 
        <ol>
            It has different values depending on where it is used:
            <ol>
                <li><span>In a method, this refers to the owner object.</span> </li>
                <li><span>Alone, this refers to the global object.</span></li>
                <li><span>In a function, this refers to the global object.</span></li>
                <li><span>In a function, in strict mode, this is undefined.</span></li>
                <li><span>In an event, this refers to the element that received the event.</span></li>
                <li><span>Methods like call(), and apply() can refer this to any object.</span></li>
            </ol>
        </ol>
        <h3>this in a Method</h3>
        In an object method, this refers to the "owner" of the method. <br><br>
        In the example on the top of this page, this refers to the employee object. <br><br>
        The person object is the owner of the details method. 
        <h4 style="color: purple;"><b>Example:</b></h4>
        <p id="demo"></p>
        <h3>This Alone</h3>
        When used alone, the owner is the Global object, so this refers to the Global object. <br><br>
        In a browser window the Global object is [object Window]
        <h4 style="color: purple;"><b>Example:</b></h4>
        <p id="demo1"></p>
        <h3>this in a Function or this in a Function (Strict)</h3>
        <b>this in a Function :<br><br></b>
        In a JavaScript function, the owner of the function is the default binding for this. <br><br>
        So, in a function, this refers to the Global object [object Window].
        <h4 style="color: purple;"><b>Example:</b></h4>
        <p id="demo2"></p>
        <b>this in a Function (Strict): <br><br></b>
        JavaScript strict mode does not allow default binding. <br><br>
        So, when used in a function, in strict mode, this is undefined.
        <h4 style="color: purple;"><b>Example:</b></h4>
        <p id="demo1_2"></p>
        <h3>this in Event Handlers</h3>
        In HTML event handlers, this refers to the HTML element that received the event <br><br>
        <button onclick="this.style.display='none';">click here</button>
        <h3>Object method binging</h3>
        this is the employee1 object(the person object is the owner of the function).
        <p id="demo3"></p>
        <h3>Explicit Function Binding</h3>
        The call() and apply() methods are predefined JavaScript methods. <br><br>
        They can both be used to call an object method with another object as argument. <br><br>
        for example: when calling person1.fullName with person2 as argument, this will refer to person2, even if it is a method of person1
        <p id="demo4"></p>
    </div>
    <style>
        span{background-color: yellow;}

    </style>
    <script>
        var employee=
        {
            Name:"Shiva",
            EmpId:11405042,
            Age:24,
            details:function()
            {
                return "Name:"+this.Name+"<br>"+"EmpId:"+this.EmpId+"<br>"+"Age:"+this.Age
            }
        };
        document.getElementById("demo").innerHTML=employee.details();
        //"use strict"
        var a=this;// with use strict or without strict the result is same
        document.getElementById("demo1").innerHTML=a;
        document.getElementById("demo2").innerHTML=myfunction1();
        document.getElementById("demo1_2").innerHTML=myfunction1_2();
        function myfunction1(){
            return this;//return [object Window]
        }
        function myfunction1_2(){
            "use strict";// if I use 'use strict' inside function then it return undefined
            return this;//return undefined
        }
        var employee1=
        {
            Name:"Shiva",
            EmpId:11405042,
            Age:24,
            details:function()
            {
                return this;
            }
        };
        document.getElementById("demo3").innerHTML=employee1.details();
        var employee2={
            details:function(){return this.firstName+" "+this.lastname;}
        }
        var employee3={
            firstName:"shivadurga",
            lastname:"mamidala",
        }
        var b=employee2.details.call(employee3);
        document.getElementById("demo4").innerHTML=b;
    </script>
</body>
</html>